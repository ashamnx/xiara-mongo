{"version":3,"sources":["../source/Definitions/Schema/SchemaValidator.ts"],"names":[],"mappings":";;AAAA,4BAA0B;AAE1B,mEAAsE;AAGtE;IAAA;IAwBA,CAAC;IAtBO,6BAAa,GAApB,UAAqB,KAAgB,EAAE,IAAY;QAElD,EAAE,CAAA,CAAC,IAAI,KAAK,SAAS,CAAC,CACtB,CAAC;YACA,EAAE,CAAA,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,CAC1B,CAAC;gBACA,MAAM,CAAC,IAAI,mDAA0B,CAAC,KAAK,CAAC,IAAI,EAAE,mBAAmB,CAAC,CAAC;YACxE,CAAC;YACD,MAAM,CAAC,IAAI,CAAC;QACb,CAAC;QAGD,EAAE,CAAA,CAAC,IAAI,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,KAAK,CAAC,IAAI,CAAC,CAChD,CAAC;YACA,EAAE,CAAA,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,MAAM,IAAI,IAAI,CAAC,WAAW,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,CAC7F,CAAC;gBACA,MAAM,CAAC,IAAI,mDAA0B,CAAC,KAAK,CAAC,IAAI,EAAE,iBAAiB,GAAG,KAAK,CAAC,IAAI,GAAG,gBAAgB,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,GAAG,aAAa,CAAC,CAAC;YAC9I,CAAC;QACF,CAAC;QAED,MAAM,CAAC,IAAI,CAAC;IACb,CAAC;IACF,sBAAC;AAAD,CAxBA,AAwBC,IAAA;AAxBY,0CAAe;AAwB3B,CAAC","file":"SchemaValidator.js","sourcesContent":["import \"reflect-metadata\";\nimport { MongoSchema } from \"../MongoSchema\";\nimport { SchemaFieldValidationError } from \"./SchemaValidationResult\";\nimport { IProperty } from \"../MongoSchema\";\n\nexport class SchemaValidator\n{\n\tstatic validateField(field: IProperty, data: object): SchemaFieldValidationError\n\t{\n\t\tif(data === undefined)\n\t\t{\n\t\t\tif(field.options.required)\n\t\t\t{\n\t\t\t\treturn new SchemaFieldValidationError(field.name, \"Field Is required\");\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\t\n\t\tif(data && data.constructor.name !== field.type)\n\t\t{\n\t\t\tif(!field.options.reference && (field.type !== 'Date' && data.constructor.name !== 'String'))\n\t\t\t{\n\t\t\t\treturn new SchemaFieldValidationError(field.name, \"Invalid Type: '\" + field.type + \"' is needed. '\" + data.constructor.name + \"' was given\");\t\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn null;\n\t}\n};"]}