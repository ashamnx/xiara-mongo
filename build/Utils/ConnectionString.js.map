{"version":3,"sources":["../source/Utils/ConnectionString.ts"],"names":[],"mappings":";;AAEA,SAAgB,sBAAsB,CAAC,UAA8B;IACjE,IAAI,gBAAgB,GAAG,YAAY,CAAC;IACpC,IAAI,UAAU,CAAC,IAAI,EAAE;QACjB,gBAAgB,IAAI,kBAAkB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;KAC3D;IACD,IAAI,UAAU,CAAC,QAAQ,EAAE;QACrB,gBAAgB,IAAI,GAAG,GAAG,kBAAkB,CAAC,UAAU,CAAC,QAAQ,CAAC,CAAC;KACrE;IACD,IAAI,UAAU,CAAC,QAAQ,EAAE;QACrB,IAAI,UAAU,CAAC,IAAI,EAAE;YACjB,gBAAgB,IAAI,GAAG,CAAC;SAC3B;QACD,gBAAgB,IAAI,UAAU,CAAC,QAAQ,CAAC;KAC3C;IACD,IAAI,UAAU,CAAC,UAAU,IAAI,UAAU,CAAC,QAAQ,EAAE;QAC9C,IAAI,UAAU,CAAC,IAAI,EAAE;YACjB,gBAAgB,IAAI,GAAG,CAAC;SAC3B;QAED,KAAoB,UAAmB,EAAnB,KAAA,UAAU,CAAC,QAAQ,EAAnB,cAAmB,EAAnB,IAAmB,EAAE;YAApC,IAAI,OAAO,SAAA;YACZ,gBAAgB,IAAI,OAAO,CAAC,QAAQ,CAAC;YACrC,gBAAgB,IAAI,GAAG,GAAG,OAAO,CAAC,IAAI,GAAG,GAAG,CAAC;SAChD;QACD,gBAAgB,GAAG,gBAAgB,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;KACpD;IACD,IAAI,UAAU,CAAC,IAAI,EAAE;QACjB,gBAAgB,IAAI,GAAG,GAAG,UAAU,CAAC,IAAI,CAAC;KAC7C;IAED,IAAI,UAAU,CAAC,QAAQ,EAAE;QACrB,gBAAgB,IAAI,GAAG,GAAG,UAAU,CAAC,QAAQ,CAAC;KACjD;IACD,IAAI,UAAU,CAAC,UAAU,EAAE;QACvB,gBAAgB,IAAI,cAAc,GAAG,UAAU,CAAC,UAAU,CAAC;KAC9D;IAED,OAAO,gBAAgB,CAAC;AAC5B,CAAC;AArCD,wDAqCC","file":"ConnectionString.js","sourcesContent":["import {IConnectionOptions} from './IConnectionOptions';\n\nexport function CreateConnectionString(Connection: IConnectionOptions): string {\n    let ConnectionString = 'mongodb://';\n    if (Connection.User) {\n        ConnectionString += encodeURIComponent(Connection.User);\n    }\n    if (Connection.Password) {\n        ConnectionString += ':' + encodeURIComponent(Connection.Password);\n    }\n    if (Connection.Hostname) {\n        if (Connection.User) {\n            ConnectionString += '@';\n        }\n        ConnectionString += Connection.Hostname;\n    }\n    if (Connection.ReplicaSet && Connection.Replicas) {\n        if (Connection.User) {\n            ConnectionString += '@';\n        }\n\n        for (let Replica of Connection.Replicas) {\n            ConnectionString += Replica.Hostname;\n            ConnectionString += ':' + Replica.Port + ',';\n        }\n        ConnectionString = ConnectionString.slice(0, -1);\n    }\n    if (Connection.Port) {\n        ConnectionString += ':' + Connection.Port;\n    }\n\n    if (Connection.Database) {\n        ConnectionString += '/' + Connection.Database;\n    }\n    if (Connection.ReplicaSet) {\n        ConnectionString += '?replicaSet=' + Connection.ReplicaSet;\n    }\n\n    return ConnectionString;\n}"]}